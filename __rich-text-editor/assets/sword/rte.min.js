/*! Taufik Nurrohman <http://latitudu.com> (2016-05-19) */
!function(e){for(var t=document,a=e.commands,n=["Left","Center","Right","Justify"],r=0,i=n.length;i>r;++r)a["align"+n[r]]=function(){var e={className:"text-"+n[r].toLowerCase(),classRegExp:/text-[a-z0-9]+/g,toggle:!0};return{exec:function(t){return a.formatBlock.exec(t,"formatBlock",e)},state:function(t){return a.formatBlock.state(t,"formatBlock",e)}}}();var o={bold:"STRONG",italic:"EM",underline:"U",strike:"DEL",code:"CODE",mark:"MARK",sup:"SUP",sub:"SUB"};for(var r in o)a[r]=function(){var e={nodeName:o[r],attribute:{},toggle:!0};return{exec:function(t,n){if(n.match(/^del|ins|strike$/)){var r=new Date,i=+r.getFullYear(),o=+r.getMonth()+1,l=+r.getDate();10>o&&(o="0"+o),10>l&&(l="0"+l),e.attribute.datetime=i+"-"+o+"-"+l}a.formatInline.exec(t,n,e)},state:function(t,n){return a.formatInline.state(t,n,e)}}}(),a.pre=function(){return{exec:function(t,a,n){var r,i,o,l=this.state(t)[0];l?t.selection.executeAndRestore(function(){r=l.querySelector("code"),e.dom.replaceWithChildNodes(l),r&&e.dom.replaceWithChildNodes(r)}):(i=t.selection.getRange(),o=i.extractContents(),l=t.doc.createElement("pre"),r=t.doc.createElement("code"),n&&(r.className=n),l.appendChild(r),r.appendChild(o),i.insertNode(l),t.selection.selectNode(l))},state:function(t){var a,n=t.selection.getSelectedNode();return n&&n.nodeName&&"PRE"==n.nodeName&&n.firstChild&&n.firstChild.nodeName&&"CODE"==n.firstChild.nodeName?[n]:(a=e.dom.getParentElement(n,{query:"pre code"}),a?[a.parentNode]:!1)}}}(),a.quote=function(){var e={nodeName:"BLOCKQUOTE",toggle:!0};return{exec:function(t){return wysihtml.commands.formatBlock.exec(t,"formatBlock",e)},state:function(t){return wysihtml.commands.formatBlock.state(t,"formatBlock",e)}}}(),a.horizontal=function(){return{exec:function(t){var a,n,r=t.selection.getSelectedNode();(r=e.dom.getParentElement(r,{query:"*"},null,t.editableArea))?(a=t.doc.createElement("HR"),t.selection.splitElementAtCaret(r,a),t.selection.selectNode(a.nextSibling||a),n=t.selection.getSelection(),n.collapseToStart()):t.selection.insertHTML("<hr>")}}}(),a.pageBreak=function(){var a=t.createElement("P");return a.className="rte-page-break",{exec:function(t){var n,r=t.selection.getSelectedNode();r=e.dom.getParentElement(r,{query:"*"},null,t.editableArea),r?(t.selection.splitElementAtCaret(r,a),t.selection.selectNode(a.nextSibling||a),n=t.selection.getSelection(),n.collapseToStart()):t.selection.insertHTML('<p class="rte-page-break"></p>')}}}(),a.insertImage=function(){var t="IMG";return{exec:function(a,n,r){r="object"==typeof r?r:{src:r};var i,o,l=a.doc,s=this.state(a);if(s&&!r.src)return a.selection.setBefore(s),o=s.parentNode,o.removeChild(s),e.dom.removeEmptyTextNodes(o),"A"!==o.nodeName||o.firstChild||(a.selection.setAfter(o),o.parentNode.removeChild(o)),void e.quirks.redraw(a.element);if(s)for(var c in r)r.hasOwnProperty(c)&&s.setAttribute("className"===c?"class":c,r[c]);else{s=l.createElement(t),s.onclick=function(){this.width=this.offsetWidth,this.height=this.offsetHeight};for(var d in r)s.setAttribute("className"===d?"class":d,r[d]);a.selection.insertNode(s),e.browser.hasProblemsSettingCaretAfterImg()?(i=l.createTextNode(e.INVISIBLE_SPACE),a.selection.insertNode(i),a.selection.setAfter(i)):a.selection.setAfter(s)}},state:function(a){var n,r,i,o=a.doc;return e.dom.hasElementWithTagName(o,t)&&(n=a.selection.getSelectedNode())?n.nodeName===t?n:n.nodeType!==e.ELEMENT_NODE?!1:(r=a.selection.getText(),(r=e.lang.string(r).trim())?!1:(i=a.selection.getNodes(e.ELEMENT_NODE,function(e){return e.nodeName===t}),1!==i.length?!1:i[0])):!1}}}(),a.source=function(){return{exec:function(){var e,a=t.body.classList;a.toggle("rte-source-is-visible"),e=a.contains("rte-source-is-visible")?1:0,localStorage.setItem("rte_source_is_visible",e)}}}()}(wysihtml);var RTE=function(e,t){function a(e){return"function"==typeof e}function n(e){return"object"==typeof e}function r(e,t,n){return t="on"+t,null===n?e[t]=null:(a(e[t])&&(n=function(e,t){return function(){return e.apply(this,arguments),t.apply(this,arguments)}}(e[t],n)),void(e[t]=n))}function i(e,t){e=e||{};for(var a in t)e[a]=n(t[a])?i(e[a],t[a]):t[a];return e}function o(e){return e.replace(/^\s+|\s+$/g,"")}function l(){var t=this;setTimeout(function(){var a=t.getValue(!1).replace(/\s*(<(br|hr) *\/?>|<\/(?:blockquote|div|fig(?:ure|caption)|h[1-6]|li|ol|t(?:able|body|d|foot|h|head|r)|ul|p|pre)>)\s*/g,"$1\n").replace(/\s*<br *\/?>\s*(<\/[^>]+?>\s*|$)/g,"$1").replace(/(<(?:blockquote|[ou]l|t(?:able|body|foot|head|r))(?:>| .*?>)|<!--.*?-->)\s*/g,"$1\n").replace(/<p><\/p>/g,"<p>&nbsp;</p>").replace(/>\s*<\/code>/g,"></code>").replace(/\s*<p class="rte-page-break">(.*?)<\/p>\s*/g,"\n\n<!-- cut$1 -->\n\n").replace(/<[^<>]+?>/g,function(e){return e.replace(/ alt=(""|\'\')/g,' alt=" "').replace(/ [\w:-]+=(?:""|\'\')/g,"").replace(/ alt=" "/g,' alt=""')}).replace(/(<pre(?:>| .*?>)<code(?:>| .*?>))([\s\S]+?)(<\/code><\/pre>)/g,function(e,t,a,n){return t+o(a.replace(/\s*<br *\/?>\s*/g,"\n").replace(/\s*<p(?:>| .*?>)\s*(.*?)\s*<\/p>\s*/g,"$1\n\n").replace(/<(\/?(?:a|abbr|b|del|dfn|em|i|ins|mark|span|strong|u))>/g,"<#$1#>").replace(/<[^#]+?>/g,"").replace(/<#(.*?)#>/g,"<$1>"))+n}).replace(/^\s*<[^<>\/]+?>\s*(\{\{(.+?)\}\})\s*<\/[^<>]+?>\s*$/gm,"$1");e.value=o(a)},.1)}function s(){var e=this;setTimeout(function(){w.setValue(e.value.replace(/<!--\s*cut(\+(?:\s+.*?)?)?\s*-->/g,'<p class="rte-page-break">$1</p>'),!1)},.1)}var c="data-wysihtml-",d=document,u={check_attributes:{"class":"any",id:"any"}},p={dir:"ltr",wysihtml:{useLineBreaks:!1,classNames:{body:"rte-is-active",composer:"rte-area",sandbox:"rte-area",placeholder:"rte-placeholder"},parserRules:{tags:{strong:!0,b:!0,i:!0,u:!0,s:!0,q:!0,em:!0,strike:{rename_tag:"s"},mark:!0,abbr:!0,dfn:!0,del:{check_attributes:{datetime:"any"}},ins:{check_attributes:{datetime:"any"}},time:{check_attributes:{datetime:"any"}},sup:u,sub:u,pre:u,code:u,h1:u,h2:u,h3:u,h4:u,h5:u,h6:u,blockquote:i(u,{check_attributes:{cite:"any"}}),hr:u,comments:1,br:!0,p:!0,div:u,span:u,ul:!0,ol:!0,li:!0,a:i(u,{check_attributes:{target:"any",href:"href",title:"any"}}),table:i(u,{check_attributes:{border:"numbers"}}),thead:!0,tbody:!0,tfoot:!0,tr:!0,th:i(u,{check_attributes:{colspan:"numbers",rowspan:"numbers"}}),td:i(u,{check_attributes:{colspan:"numbers",rowspan:"numbers"}}),caption:!0,img:i(u,{check_attributes:{width:"numbers",height:"numbers",alt:"any",src:"src",title:"any"}}),figure:u,figcaption:!0}}}},m=i(p,t),g=d.createElement("div");g.setAttribute("data-placeholder","placeholder"in e?e.placeholder:""),setTimeout(function(){var t=e.cloneNode();t.style.display="block",t.style.position="absolute",t.style.top="-9999px",d.body.appendChild(t);var a=t.offsetHeight+"px";g.style.minHeight=a,d.body.removeChild(t),g.innerHTML=e.value},1);var f=d.createElement("div");f.className="rte-toolbar";var h=RegExp("(^|\\s)rte-source(\\s|$)"),b=e.className,v=e.parentNode;b.match(h)||(e.className=o(b+" rte-source")),v.insertBefore(g,e),v.insertBefore(f,g);var y={bold:["Bold","bold"],italic:["Italic","italic"],underline:["Underline","underline"],strike:["Strike Through","strike"],sup:["Superscript","sup"],sub:["Subscript","sub"],quote:["Quote","quote"],"list-ol":["Ordered List","insertOrderedList"],"list-ul":["Unordered List","insertUnorderedList"],"align-left":["Align Left","alignLeft"],"align-center":["Align Center","alignCenter"],"align-right":["Align Right","alignRight"],"align-justify":["Align Justify","alignJustify"],horizontal:["Horizontal Rule","horizontal"],format:["Format",{Normal:"p","Header 1":"h1","Header 2":"h2","Header 3":"h3","Header 4":"h4","Header 5":"h5","Header 6":"h6","Code Snippet":{":command":"pre",":command-value":"no-highlight"}}],image:["Image","insertImage"],link:["Link","createLink"],unlink:["Remove Link","removeLink"],clean:["Remove Format","removeFormat"],"break":["Insert Jump Break","pageBreak"],undo:["Undo","undo"],redo:["Redo","redo"],source:["HTML Source","source"]};for(var k in y){var N=y[k][1],E=d.createElement(n(N)?"span":"a"),x=y[k][0];if(E.className="rte-toolbar-button rte-toolbar-button-"+k,x&&(E.title=x),E.href="javascript:;",E.innerHTML='<i class="icon icon-'+k+'"></i>',n(N)){var C="<span>";for(var k in N)if(n(N[k])){C+='<a href="javascript:;"';var L=N[k];for(var T in L)C+=" "+T.replace(":",c)+'="'+L[T]+'"';C+=">"+k+"</a>"}else C+='<a href="javascript:;" '+c+'command="formatBlock" '+c+'command-value="'+N[k]+'">'+k+"</a>";E.innerHTML+=C,E.children[0].onclick=function(){this.nextSibling.style.display="block"},E.children[1].onmouseup=function(){var e=this;e.style.display="none",setTimeout(function(){e.style.display=""},1)}}else E.setAttribute(c+"command",N);f.appendChild(E)}var S=d.createElement("div");S.innerHTML='<div class="rte-prompt" '+c+'dialog="createLink" style="display:none;"><label><span>Link</span><input type="text" '+c+'dialog-field="href" value="http://"></label><label><span>Title</span><input type="text" '+c+'dialog-field="title" value=""></label><span class="rte-prompt-action"><a '+c+'dialog-action="save" href="javascript:;">OK</a><a '+c+'dialog-action="cancel" href="javascript:;">Cancel</a></span></div><div class="rte-prompt" '+c+'dialog="insertImage" style="display:none;"><input type="hidden" '+c+'dialog-field="width" value=""><input type="hidden" '+c+'dialog-field="height" value=""><label><span>Source</span><input type="text" '+c+'dialog-field="src" value="http://"></label><label><span>Text</span><input type="text" '+c+'dialog-field="alt" value=""></label><label><span>Title</span><input type="text" '+c+'dialog-field="title" value=""></label><label><span>Align</span><select '+c+'dialog-field="class"><option value="">&mdash; None &mdash;</option><option value="align-left">Left</option><option value="align-center">Center</option><option value="align-right">Right</option></select></label><span class="rte-prompt-action"><a '+c+'dialog-action="save" href="javascript:;">OK</a><a '+c+'dialog-action="cancel" href="javascript:;">Cancel</a></span></div>',f.appendChild(S),m.wysihtml.toolbar=f;var w=new wysihtml.Editor(g,m.wysihtml);w.on("interaction:composer",l),w.on("aftercommand:composer",l),r(e,"input",s),r(e,"keyup",s),r(e,"focus",s),r(e,"blur",s);var A=localStorage.getItem("rte_source_is_visible");+A&&d.body.classList.add("rte-source-is-visible")};!function(e,t){for(var a=t.querySelectorAll(".MTE:not(.MTE-ignore)"),n=0,r=a.length;r>n;++n)"textarea"===a[n].nodeName.toLowerCase()&&new RTE(a[n])}(window,document);